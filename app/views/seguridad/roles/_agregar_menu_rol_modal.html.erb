<dialog id="my_modal_5" class="modal modal-bottom modal-middle">
  <div class="modal-box w-11/12 max-w-3xl overflow-hidden flex flex-col max-h-[90vh]">

    <h3 class="text-lg font-bold shrink-0">Agregar menú al rol <%= @rol.nombre %></h3>

    <div class="grid grid-rows-[1fr] h-[50vh] w-full my-4 border border-base-200 rounded-lg relative">

      <div class="overflow-y-auto min-h-0 bg-base-100 rounded-lg">
        <table class="table table-pin-rows table-xs sm:table-sm px-4">
          <thead>
          <tr class="bg-base-100 z-10 sticky top-0 shadow-sm">
            <th>Nombre Menú</th>
            <th>Módulo</th>
            <th class="text-right">Acciones</th>
          </tr>
          </thead>

          <tbody>
          <% if lista_agregar_menus.any? %>
            <% lista_agregar_menus.each do |menu| %>
              <tr class="hover:bg-base-200">
                <td class="font-bold"><%= menu.nombre %></td>
                <td><%= menu&.modulo&.nombre %></td>

                <td class="flex gap-2 justify-end">
                  <%= link_to add_menu_seguridad_role_path(@rol, menu_id: menu.id),
                              data: { turbo_method: :post },
                              class: "btn btn-sm btn-ghost btn-square text-success" do %>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
                    </svg>
                  <% end %>
                </td>
              </tr>
            <% end %>
          <% else %>
            <tr>
              <td colspan="3" class="text-center py-4 text-base-content/50">
                No hay menús disponibles para agregar.
              </td>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>

    </div>

    <div class="modal-action shrink-0 mt-0">
      <form method="dialog">
        <button class="btn">Cerrar</button>
      </form>
    </div>
  </div>
</dialog>
